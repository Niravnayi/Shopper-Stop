"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8071],{683:function(e,t,l){l.d(t,{errorMessages:function(){return n}});let n={name:"Username must be at least 2 characters",mobileNumber:"Please enter a valid phone number",pinCode:"Please enter a valid PinCode",city:"Please enter a valid city name",state:"Please enter a valid state name",address:"Address must be at least 20 characters",email:"Please enter a valid email ID",onlyAlphabets:"Only alphabets are allowed",inputAreaMaxLimit:"Character count exceeds the number of limits"}},76186:function(e,t,l){l.d(t,{An:function(){return a},De:function(){return m},R9:function(){return n},RF:function(){return r},Rq:function(){return o},SG:function(){return d},UM:function(){return u},YS:function(){return v},_b:function(){return i},eL:function(){return x},lP:function(){return c},y7:function(){return s}});let n="Pay securely by",a="Reach out to us",i="For any queries, please write to us:",r="Download the app",s="Verified by",o="Follow us on",d="Secure payment",u="Express Pickup",c="Stores near you",m="Authentic products",x="100% Genuine",v="/miscs/contactus"},3816:function(e,t,l){l.d(t,{Z:function(){return E}});var n=l(85893),a=l(67294),i=l(70841),r=l(70076),s=l(26575),o=l(5686),d=l(8725),u=l(54279),c=l(42376),m=l(10457),x=l(98029),v=l(45051),g=l(83464),p=l(444),f=l(74632),h=l(29515),b=l(48583),N=l(59463),y=l(25681),j=l(81145),_=l(683),S=l(4198);let w=[{title:"Male"},{title:"Female"},{title:"Others"}];var k=e=>{let{mobileNumber:t,userName:l,closeSheet:i,isNewUser:s,mergeCart:c}=e,[m,k]=(0,a.useState)({email:"",pinCode:"",city:"",state:"",address:"",name:l||"",gender:void 0}),[P,C]=(0,a.useState)({email:"",name:"",pinCode:"",address:""}),I=(0,b.Dv)(N.eY),E=(0,b.b9)(N.eY),{isMobile:D}=(0,u.a)(),{mutateAsync:A,isPending:T}=(0,x.D)((0,v.r0)().mutateFccPoints),{mutateAsync:O,isPending:R}=(0,x.D)((0,v.at)().getProfileDetails),Z=async e=>{let{access_token:l,refresh_token:n}=e||{};try{var a,r;let{addressesCount:e,walletStatus:s,title:o,gender:d,dob:u,name:x,walletNumber:v,sslLoyaltyDetailData:g,customerId:p,walletAmount:f,uid:h,mobile:b}=await O({token:"Bearer ".concat(l)})||{};p&&(null===(a=localStorage)||void 0===a||a.setItem("customerID",p));let N=await A(null==g?void 0:g.primaryCardNumber),{tier_class:y,membership_stage:_,totalBalance:w,tier_end_date:k}=(null==N?void 0:N.data)||{},P={...I,mobileNumber:null!=b?b:"",email:null!=h?h:"",accessToken:"Bearer ".concat(l),refreshToken:"Bearer ".concat(n),name:null!=x?x:"",salutation:null!=o?o:"",walletStatus:null!=s?s:"",addressesCount:null!=e?e:0,dob:null!=u?u:"",gender:null!=d?d:"",walletNumber:null!=v?v:"",fccNumber:(null==g?void 0:g.primaryCardNumber)?null==g?void 0:g.primaryCardNumber:"",tierValue:null!==(r=null==g?void 0:g.tier)&&void 0!==r?r:""},C={mobileNumber:t,email:m.email,gender:m.gender,name:m.name,fccStatus:_,fccPoints:w,tierValue:y||(null==g?void 0:g.tier),fccNumber:(null==g?void 0:g.primaryCardNumber)?null==g?void 0:g.primaryCardNumber:"",walletStatus:s,walletNumber:v,fccValidity:k,uniqueId:p,walletAmount:f};E(P),i&&i(),c&&c(),(0,j.g)().refetchQueries({queryKey:["getCartSimpleData"]}),(0,S.Mn)(C)}catch(e){}},{mutate:B,isPending:M}=(0,x.D)({...(0,v.sB)().signUp,onSettled(e){if((null==e?void 0:e.errors)||(null==e?void 0:e.statusCode)==400){C(t=>{var l,n;return{...t,email:null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message}});return}(null==e?void 0:e.access_token)&&(Z(e),(0,y.O)("Your account has been created successfully!!",{position:D?"bottom-center":"top-center"},{maxWidth:D?"100vw":"50vw",fontSize:"14px"}))},onError(e){}}),V=e=>{let t=(null==e?void 0:e.itemId)==m.gender||(null==e?void 0:e.title)==m.gender;return(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{className:"mr-8 text-sm leading-4 tracking-sm text-neutral-900 md:text-base ".concat(t?" font-medium":"font-normal"),children:null==e?void 0:e.title})})},z=(e,t)=>{if(0==t.length){k(t=>({...t,[e]:""})),C(t=>({...t,[e]:""}));return}switch(e){case"name":if(h.N1.test(t)&&t.length>0){k(l=>({...l,[e]:t}));let l=t.split(/(\s+)/).filter(function(e){return e.trim().length>0});C(t=>({...t,[e]:l.length>1?"":"Please enter full name"}))}else t.length>0&&!h.N1.test(t)&&C(t=>({...t,[e]:_.errorMessages.onlyAlphabets}));break;case"email":k(l=>({...l,[e]:t})),C(l=>({...l,[e]:h.HN.test(t)?"":_.errorMessages.email}));break;case"address":k(l=>({...l,[e]:t})),C(l=>({...l,[e]:t.length>20?"":_.errorMessages.address}))}},U=(0,a.useMemo)(()=>{let e=!1;for(let t in P)if(P[t]){e=!0;break}return!m.name||!m.gender||!m.email||!!e},[m.name,m.gender,m.email,P]);return(0,n.jsxs)(n.Fragment,{children:[(M||R||T)&&(0,n.jsx)(g.wY,{}),(0,n.jsxs)(d.x,{className:"mx-4 mt-6 md:mx-[99px] md:!h-full ",children:[(0,n.jsx)(o.Z,{className:"pb-3 text-center font-medium !leading-[21.6px] text-blackShade md:text-[32px] md:leading-[38.4px] xs:pb-2 xs:text-lg",children:"Almost there"}),(0,n.jsx)(o.Z,{className:"pb-10 text-center text-xs font-light leading-[18px] tracking-wide text-ssBlack md:text-base md:leading-6 xs:pb-8",children:"Complete your profile for the best experience"}),!s&&(0,n.jsx)(p.Input,{label:"Name",labelClass:"md:text-base text-neutral-500 font-normal tracking-tight  !text-sm !leading-6",value:m.name,onChange:e=>z("name",e.target.value),className:"mb-4 w-full ",errorMessage:P.name,maxLength:50}),(0,n.jsx)(p.Input,{label:"Email ID (mandatory)",value:m.email,labelClass:"md:text-base text-neutral-500 font-normal tracking-[0.5px]  !text-sm !leading-6",onChange:e=>z("email",e.target.value),className:"mb-4 w-full ",errorMessage:P.email}),(0,n.jsx)(o.Z,{className:"text-sm font-medium capitalize !leading-[18px] tracking-tight text-neutral-900 md:leading-[21px] xs:text-xs",children:"Gender"}),(0,n.jsx)(d.x,{className:"mt-2 ",children:(0,n.jsx)(f.Z,{data:w,defaultValue:m.gender,Component:e=>(0,n.jsx)(V,{itemId:"",...e,selected:e.title===m.gender}),onValueChange:e=>{k(t=>{var l;return{...t,gender:null===(l=w[parseInt(e)])||void 0===l?void 0:l.title}})},className:"flex justify-start"})}),(0,n.jsx)(r.Button,{className:"my-8 w-full md:min-h-[56px]",title:"SAVE",textClass:"text-white text-base xs:text-xs font-medium  leading-none tracking-wide",disabled:U,onClick:()=>{B(JSON.stringify({mobile:t,cliend_id:"mobile_android",login:m.email,uniqueSignUp:!0,gender:"Others"==m.gender?"Not specified":m.gender,fullName:m.name}))}})]})]})},P=l(11163),C=l(99361),I=l(69653),E=e=>{let{phoneNumber:t,closeSheet:l,showBackArrow:p,onBackArrowClick:f,userName:h,payloadType:_,guestEmail:w,profileData:E}=e,{isMobile:D}=(0,u.a)(),[A,T]=(0,a.useState)(""),[O,R]=(0,a.useState)(!1),[Z,B]=(0,a.useState)(""),[M,V]=(0,a.useState)(null),[z,U]=(0,a.useState)(!0),[L,F]=(0,a.useState)(i.wr),[Y,G]=(0,a.useState)(!1),[q,W]=(0,a.useState)(!1),[J,X]=(0,a.useState)(!1),H=(0,b.Dv)(N.eY),K=(0,b.b9)(N.eY),Q=(0,b.Dv)(N.Oh),$=(0,b.b9)(N.iz),ee=(0,P.useRouter)(),{email:et,mobileNumber:el}=H||{},{mutate:en,isPending:ea}=(0,x.D)({...(0,v.sB)().triggerOTP,onSettled(e){var t,l,n;let a=Array.isArray(null==e?void 0:e.errors),{type:i}=(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t[0])||{};a||(null==e?void 0:e.statusCode)!=201?a&&("MaxResendAttemptsReachedOTPError"==i||"MaxVerificationAttemptsReachedOTPError"==i)?X(!0):a&&B(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message):(B(""),+(null==e?void 0:e.remainingResendAttempt)>=0&&(0,y.O)("OTP has sent! You have ".concat(null==e?void 0:e.remainingResendAttempt," attempt(s) left")),V(null==e?void 0:e.remainingResendAttempt),U(!0))}}),{mutate:ei,isPending:er}=(0,x.D)({...(0,v.sB)().triggerEmailOTP,onSettled(e){var t,l,n;let a=Array.isArray(null==e?void 0:e.errors),{type:i}=(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t[0])||{};+(null==e?void 0:e.remainingResendAttempt)>=0&&!a?(B(""),(0,y.O)("OTP has sent! You have ".concat(null==e?void 0:e.remainingResendAttempt," attempt(s) left")),V(null==e?void 0:e.remainingResendAttempt),U(!0)):a&&("MaxResendAttemptsReachedOTPError"==i||"MaxVerificationAttemptsReachedOTPError"==i)?X(!0):a&&B(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message)}}),{mutate:es,isPending:eo}=(0,x.D)({...(0,v.x8)().createWallet,onSettled(e){let t=Array.isArray(null==e?void 0:e.errors),{statusCode:n,walletNumber:a}=e||{};if(!t&&a&&200==n)K({...H,walletNumber:a}),l&&l();else if(t){var i,r;B(null==e?void 0:null===(r=e.errors)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.message)}}}),{mutateAsync:ed,isPending:eu}=(0,x.D)((0,v.at)().getProfileDetails),{mutateAsync:ec,isPending:em}=(0,x.D)((0,v.r0)().mutateFccPoints),{mutateAsync:ex,isPending:ev}=(0,x.D)({...(0,v.$M)({key:"getMergeCartId",args:{guid:Q}}).getMergeCartId,onSettled(e){var t;e.data&&$(e.data.cart.id),(null==ee?void 0:null===(t=ee.asPath)||void 0===t?void 0:t.includes("/cart/"))?(0,j.g)().refetchQueries({queryKey:["getCartData"]}):(0,j.g)().refetchQueries({queryKey:["getCartSimpleData"]})}}),{mutate:eg,isPending:ep}=(0,x.D)({...(0,v.sB)().registerWithSocialLogin,onSettled(e){var t;let{type:l}=(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t[0])||{};"OTPVerificationRequiredError"==l&&U(!0),("MaxResendAttemptsReachedOTPError"==l||"MaxVerificationAttemptsReachedOTPError"==l)&&X(!0)}}),ef=async e=>{let{access_token:t,mobileNumber:n,refresh_token:a,customerId:i}=e||{};try{var r;let{addressesCount:e,walletStatus:s,title:o,gender:d,dob:u,name:c,walletNumber:m,sslLoyaltyDetailData:x,walletAmount:v,customerId:g}=await ed({token:"Bearer ".concat(t)})||{};g&&(null===(r=localStorage)||void 0===r||r.setItem("customerID",g));let p=await ec(null==x?void 0:x.primaryCardNumber),{tier_class:f,membership_stage:h,totalBalance:b,tier_end_date:N}=(null==p?void 0:p.data)||{},y={...H,mobileNumber:null!=n?n:"",email:i,accessToken:"Bearer ".concat(t),refreshToken:"Bearer ".concat(a),name:null!=c?c:"",salutation:null!=o?o:"",walletStatus:null!=s?s:"",addressesCount:null!=e?e:0,dob:null!=u?u:"",gender:null!=d?d:"",walletNumber:null!=m?m:"",fccNumber:(null==x?void 0:x.primaryCardNumber)?null==x?void 0:x.primaryCardNumber:"",tierValue:null!=f?f:""},j={...y,fccStatus:h,fccPoints:b,fccEndDate:N,walletAmount:v};l(),K(y),(0,S.Jc)(j,_),(0,S.cC)(j,_),await ex()}catch(e){}},{mutate:eh,isPending:eb}=(0,x.D)({...(0,v.sB)().registerWithSocialLogin,onSettled(e){var t,l;(null==e?void 0:null===(l=e.errors)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.type)=="OTPError"&&(B("Invalid OTP"),R(!0)),(null==e?void 0:e.access_token)&&(ef(e),(0,y.O)("Your account has been created successfully!!",{position:D?"bottom-center":"top-center"},{maxWidth:D?"100vw":"50vw",fontSize:"14px"}))}}),eN=e=>{var t,l,n,a,i,r,s,o;Array.isArray(null==e?void 0:e.errors)?((null==e?void 0:null===(l=e.errors)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.type)=="MaxVerificationAttemptsReachedOTPError"?X(!0):B(null==e?void 0:null===(o=e.errors)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:s.message),R(!0)):(null==e?void 0:e.hybrisUser)?(ef(e),null===(n=localStorage)||void 0===n||n.setItem("customerType","existing_customer"),null===(a=localStorage)||void 0===a||a.setItem("userType","returning_user")):(null==e?void 0:e.hybrisUser)||(null===(i=localStorage)||void 0===i||i.setItem("customerType","new_customer"),null===(r=localStorage)||void 0===r||r.setItem("userType","new_user"),G(!0))},{mutate:ey,isPending:ej}=(0,x.D)({...(0,v.sB)().validateOTP,onSettled(e){eN(e)}}),{mutate:e_,isPending:eS}=(0,x.D)({...(0,v.sB)().validateEmailOTP,onSettled(e){var t,l,n,a,i,r;Array.isArray(null==e?void 0:e.errors)?(B(null==e?void 0:null===(r=e.errors)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.message),R(!0)):(null==e?void 0:e.hybrisUser)?(ef(e),null===(t=localStorage)||void 0===t||t.setItem("customerType","existing_customer"),null===(l=localStorage)||void 0===l||l.setItem("userType","returning_user")):(null===(n=localStorage)||void 0===n||n.setItem("customerType","new_customer"),null===(a=localStorage)||void 0===a||a.setItem("userType","new_user"))}}),{mutate:ew}=(0,x.D)({...(0,v.sB)().validateGuestOTP,onSettled(e){if(Array.isArray(null==e?void 0:e.errors)){var t,n;B(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.message),R(!0)}else e&&(ee.push("/cart/address"),l&&l())}}),ek=()=>{f&&f()},eP=e=>{/^\d*$/.test(e)&&(T(e),R(!1))},eC=()=>{if(A.length>5){switch(_){case"create_wallet":es({email:et,otp:A,mobileNumber:el});break;case"validateGuestOtp":ew({guid:Q,email:w||"",mobileNumber:t,otp:A});break;case"email":e_("email=".concat(t,"&otp=").concat(A,"&cliend_id=trusted_client"));break;case"social-login":{var e;let{email:l,token:n}=E||{},a=null==h?void 0:h.split(" "),i=null==a?void 0:a[0],r=null==a?void 0:null===(e=a.slice(1,null==a?void 0:a.length))||void 0===e?void 0:e.join(" ");eh(decodeURI("accessToken=".concat(n,"&socialIDP=google&cliend_id=mobile_android&firstName=").concat(i,"&lastName=").concat(r,"&email=").concat(l,"&mobile=").concat(t,"&otp=").concat(A)));break}default:ey("mobileNumber=".concat(t,"&otp=").concat(A,"&cliend_id=trusted_client"))}R(!1)}},eI=t.length>=4?"".concat(t.slice(0,2),"XXXXXX").concat(t.slice(-2)):t,eE=6===A.length;return(0,a.useEffect)(()=>{let e;return z&&L>0?e=setTimeout(()=>{F(e=>e-1)},1e3):0===L&&(U(!1),F(i.wr)),()=>clearTimeout(e)},[z,L]),(0,n.jsxs)(n.Fragment,{children:[(ej||eo||ea||eS||er||eu||ep||eb||ev||em)&&(0,n.jsx)(g.wY,{}),q?(0,n.jsx)(I.Z,{closeSheet:l}):(0,n.jsxs)(n.Fragment,{children:[!D&&p&&(0,n.jsx)("div",{className:"sticky top-0 z-20 w-full bg-white",children:(0,n.jsx)(d.x,{className:"sticky cursor-pointer pl-8 pt-5",onClick:ek,children:(0,n.jsx)("div",{className:(0,c.cn)("mr-4 flex size-8 flex-col items-center justify-center rounded-full border-[0.571px] border-solid border-neutral-500 px-2"),children:(0,n.jsx)(s.E,{src:"/icons/leftarrow.svg",alt:"upi_icons"})})})}),Y?(0,n.jsx)(d.x,{className:"w-full",children:(0,n.jsx)(k,{mergeCart:ex,mobileNumber:t,closeSheet:l,userName:h,isNewUser:!!h})}):(0,n.jsxs)(n.Fragment,{children:[(0==M||J)&&(0,n.jsx)(d.x,{className:"md:mt-6",children:(0,n.jsx)(o.Z,{variant:"xs",className:"left-0 top-3 bg-red-700 p-4 text-start text-white",children:"You have reached your maximum OTP limit. Please try to log in with your email ID or reach out to our customer care."})}),(0,n.jsxs)(d.x,{className:"mx-4 mt-6 md:mx-[99px] md:mt-[39px]",children:[(0,n.jsx)(o.Z,{className:"text-center text-[32px] font-medium !leading-[21.6px] text-blackShade md:!leading-[38.4px] xs:text-lg",children:"Verify with OTP"}),(0,n.jsx)(o.Z,{className:"pb-7 text-center text-xs font-light leading-[18px] tracking-wide  !text-ssBlack md:pb-10 md:pt-3 md:text-base md:leading-6",children:h||"create_wallet"==_?"One last step! Enter the OTP sent to your phone number.":"email"==_?"Enter the OTP sent to your Email":"Enter the OTP sent to your phone number"}),(0,n.jsxs)(d.x,{className:"flex justify-center pb-4 md:pb-0",children:[(0,n.jsxs)(o.Z,{className:"pr-1 text-xs font-light leading-[18px] tracking-wide text-ssBlack md:pr-2 md:text-base md:leading-6",children:["OTP sent to ",eI]}),"create_wallet"!=_?(0,n.jsx)(d.x,{onClick:ek,className:"cursor-pointer",children:(0,n.jsx)(o.Z,{className:" text-xs font-medium leading-[14.65px] text-ssBlack underline md:text-base md:!leading-[19.54px]",children:"Change"})}):null]}),(0,n.jsxs)(d.x,{className:"flex flex-col justify-center",children:[(0,n.jsx)(d.x,{className:"flex justify-center pb-4 md:pb-4 md:pt-6",children:(0,n.jsx)(m.Z,{value:A,setValue:e=>eP(e),inputStyles:{borderColor:O?C.D.red.$600:"border-neutral-400"},onEnterClick:eC,setIsInvalidOtp:R,setErrorMessage:B})}),(O||Z)&&(0,n.jsx)(o.Z,{className:" mt-1 !pl-[4px] text-start text-xs !leading-4 text-red-600 md:!ml-[-20px] md:mt-0 md:pl-0 md:text-sm md:font-normal",children:Z}),(M&&M>=1||null==M||J)&&(z?(0,n.jsx)(o.Z,{variant:"xs",className:"text-right leading-tight text-stone-900",children:(M&&M>=1||null==M||J)&&"Resend in 00:".concat(String(L).padStart(2,"0"))}):(0,n.jsxs)(d.x,{className:"flex flex-row items-center justify-end pb-8 pt-4 md:mt-0 md:pb-6 ",children:[(0,n.jsx)(o.Z,{className:"text-xs font-normal capitalize leading-[18px] text-ssBlack md:text-sm md:!leading-4",children:"Didn’t receive an ".concat("email"==_?"Email":"SMS","?")}),(0,n.jsx)(d.x,{onClick:()=>{let e;switch(T(""),B(""),R(!1),_){case"create_wallet":e={login:H.email,mobile:H.mobileNumber,type:"CREATE_WALLET"};break;case"validateGuestOtp":e={login:w||"",mobile:t,type:"UNIQUE_SIGNUP"};break;case"email":e={login:t,type:"SIGNIN_WITH_MOBILE"};break;default:e={mobile:t,type:"SIGNIN_WITH_MOBILE"}}if("email"==_)ei(JSON.stringify(e));else if("social-login"==_){var l;let{email:e,token:n}=E||{},a=null==h?void 0:h.split(" "),i=null==a?void 0:a[0],r=null==a?void 0:null===(l=a.slice(1,null==a?void 0:a.length))||void 0===l?void 0:l.join(" ");eg(decodeURI("accessToken=".concat(n,"&socialIDP=google&cliend_id=mobile_android&firstName=").concat(i,"&lastName=").concat(r,"&email=").concat(e,"&mobile=").concat(t,"&otp=")))}else en(JSON.stringify(e));T(""),B("")},children:(0,n.jsx)(o.Z,{className:"cursor-pointer pl-[2px] text-xs font-medium leading-[18px] text-blue-600 md:pl-1 md:text-sm md:leading-4",children:"Resend OTP"})})]}))]}),(0,n.jsx)(r.Button,{className:"mt-8 w-full py-5 md:mb-4 md:mt-6 md:py-7",title:"VERIFY OTP",textClass:"md:text-base md:leading-4 md:font-medium",disabled:!eE||O,onClick:eC})]}),h&&(0,n.jsxs)(d.x,{className:"mb-2 mt-10 flex justify-center",children:[(0,n.jsx)(o.Z,{className:"text-lg font-medium leading-relaxed text-stone-800 xs:text-xs",children:"Already have an account?"}),(0,n.jsx)(d.x,{children:(0,n.jsx)(o.Z,{className:"cursor-pointer pl-2 text-lg font-medium leading-relaxed text-blue-600 xs:text-xs",onClick:()=>W(!0),children:"Sign in"})})]})]})]})]})}},10457:function(e,t,l){var n=l(85893),a=l(67294),i=l(58386),r=l(54279);t.Z=e=>{let{isMobile:t}=(0,r.a)(),l={width:t?"48px":"56px",height:t?"48px":"56px",marginRight:t?"8px":"12px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px"},{value:s,setValue:o,inputStyles:d,onEnterClick:u,setErrorMessage:c,setIsInvalidOtp:m}=e,x=(0,a.useRef)([]);(0,a.useEffect)(()=>{x.current[0]&&x.current[0].focus()},[]);let v=(e,t)=>{if("Enter"===e.key&&s&&s.length>5)u&&u();else if("Backspace"===e.key&&t>0&&!(null==s?void 0:s[t])){var l;null===(l=x.current[t-1])||void 0===l||l.focus()}},g=(e,t)=>{let{value:l}=e.target,n=(s||"").split("");if(n[t]=l,o(n.join("")),1===l.length&&t<5){var a;null===(a=x.current[t+1])||void 0===a||a.focus()}};return(0,n.jsx)(i.Z,{value:s,onChange:e=>{o(e),c&&c(""),m&&m(!1)},numInputs:6,inputType:"tel",shouldAutoFocus:!0,skipDefaultStyles:!0,renderInput:(e,t)=>(0,n.jsx)("input",{...e,ref:e=>{x.current[t]=e},style:{...l,...d,textAlign:"center",backgroundColor:"white",color:"#191919"},onKeyDown:e=>v(e,t),onChange:e=>g(e,t)})})}},25886:function(e,t,l){l.d(t,{U:function(){return b},X:function(){return N}});var n=l(85893),a=l(67294),i=l(61695),r=l(5686),s=l(26575),o=l(86426),d=l(87066),u=l(98029),c=l(45051),m=l(48583),x=l(59463),v=l(81145),g=l(4198),p=l(83464),f=l(86481),h=l(11163);let b=e=>{let{closeSheet:t,setShowRegisterWithUs:l,setSocialProfileData:a,setErrorMessage:i}=e;return(0,n.jsx)(o.rg,{clientId:f.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID,children:(0,n.jsx)(y,{closeSheet:t,setShowRegisterWithUs:l,setSocialProfileData:a,setErrorMessage:i})})},N=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{className:"w-full border border-neutral-300 text-neutral-300"}),(0,n.jsx)(r.Z,{className:"whitespace-nowrap px-2 text-center text-xs font-normal leading-[16.8px] text-neutral-500 md:px-4 md:text-base md:leading-[22.4px]",children:"Or sign in with"}),(0,n.jsx)(i.default,{className:"w-full border border-neutral-300 text-neutral-300"})]}),y=e=>{let{closeSheet:t,setShowRegisterWithUs:l,setSocialProfileData:i,setErrorMessage:f}=e,[b,N]=(0,a.useState)(),[y,j]=(0,a.useState)(""),[_,S]=(0,a.useState)(!1),w=(0,m.Dv)(x.eY),k=(0,m.b9)(x.eY),P=(0,m.Dv)(x.Oh),C=(0,m.b9)(x.iz),I=(0,h.useRouter)(),{mutateAsync:E,isPending:D}=(0,u.D)({...(0,c.$M)({key:"getMergeCartId",args:{guid:P}}).getMergeCartId,onSettled(e){var t;e.data&&C(e.data.cart.id),(null==I?void 0:null===(t=I.asPath)||void 0===t?void 0:t.includes("/cart/"))?(0,v.g)().refetchQueries({queryKey:["getCartData"]}):(0,v.g)().refetchQueries({queryKey:["getCartSimpleData"]})}}),{mutateAsync:A,isPending:T}=(0,u.D)((0,c.at)().getProfileDetails),{mutateAsync:O,isPending:R}=(0,u.D)((0,c.r0)().mutateFccPoints),Z=async e=>{let{access_token:l,refresh_token:n}=e||{};try{var a;let{addressesCount:e,walletStatus:i,title:r,gender:s,dob:d,name:u,walletNumber:c,sslLoyaltyDetailData:m,mobile:x,uid:p,walletAmount:f,customerId:h}=await A({token:"Bearer ".concat(l)})||{};h&&(null===(a=localStorage)||void 0===a||a.setItem("customerID",h));let b=await O(null==m?void 0:m.primaryCardNumber),{tier_class:N,membership_stage:y,totalBalance:j,tier_end_date:_}=(null==b?void 0:b.data)||{},S={...w,mobileNumber:null!=x?x:"",email:p,accessToken:"Bearer ".concat(l),refreshToken:"Bearer ".concat(n),name:null!=u?u:"",salutation:null!=r?r:"",walletStatus:null!=i?i:"",addressesCount:null!=e?e:0,dob:null!=d?d:"",gender:null!=s?s:"",walletNumber:null!=c?c:"",fccNumber:(null==m?void 0:m.primaryCardNumber)?null==m?void 0:m.primaryCardNumber:"",tierValue:null!=N?N:""};t&&t(),(0,o.Kz)();let P={...S,fccStatus:y,fccPoints:j,fccEndDate:_,walletAmount:f};k(S),(0,g.Jc)(P,"social-login"),(0,g.cC)(P,"social-login"),await E(),(0,v.g)().refetchQueries({queryKey:["getCartSimpleData"]})}catch(e){}},{mutate:B,isPending:M}=(0,u.D)({...(0,c.sB)().registerWithSocialLogin,onSettled(e){var t,n,a,i,r,s,o,d;(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.type)==="MobileNotFoundError"?l&&l(!0):(null==e?void 0:null===(i=e.errors)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.message)&&(f?f(null==e?void 0:null===(s=e.errors)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.message):j(null==e?void 0:null===(d=e.errors)||void 0===d?void 0:null===(o=d[0])||void 0===o?void 0:o.message)),(null==e?void 0:e.access_token)&&Z(e)}}),V=(0,o.Nq)({onSuccess:e=>{(null==e?void 0:e.access_token)&&N(e)},onError:e=>console.log("Login Failed:",e)}),z=async e=>{S(!0);try{let t=await d.Z.get("https://www.googleapis.com/oauth2/v1/userinfo?access_token=".concat(e),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}}),{email:l}=(null==t?void 0:t.data)||{},n="accessToken=".concat(e,"&socialIDP=google&cliend_id=mobile_android&email=").concat(l);i&&i({...null==t?void 0:t.data,token:e}),S(!1),B(n)}catch(e){S(!1)}};return(0,a.useEffect)(()=>{(null==b?void 0:b.access_token)&&z(null==b?void 0:b.access_token)},[b]),(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)(n.Fragment,{children:[(_||T||M||R||D)&&(0,n.jsx)(p.wY,{}),(0,n.jsx)(s.E,{className:"size-8 md:size-10",src:"/icons/googleIcon.svg",alt:"googleIcon",onClick:()=>V()})]}),y&&(0,n.jsx)(r.Z,{className:"mt-1 text-start text-sm text-red-700 ",children:y})]})}},69653:function(e,t,l){var n=l(85893),a=l(67294),i=l(70076),r=l(444),s=l(5686),o=l(8725),d=l(54279),u=l(29515),c=l(66839),m=l(3816),x=l(25886),v=l(98029),g=l(45051),p=l(4198),f=l(45779),h=l(76186),b=l(26729),N=l(26575);t.Z=e=>{let{isMobile:t}=(0,d.a)(),{closeSheet:l}=e,[y,j]=(0,a.useState)(""),[_,S]=(0,a.useState)(!0),[w,k]=(0,a.useState)(""),[P,C]=(0,a.useState)(null),[I,E]=(0,a.useState)(!1),[D,A]=(0,a.useState)(!1),[T,O]=(0,a.useState)(!0),[R,Z]=(0,a.useState)(),[B,M]=(0,a.useState)(""),V=e=>{let t=Array.isArray(null==e?void 0:e.errors);if(t&&(null==e?void 0:e.statusCode)!=201){var l,n,a,i,r,s,o,d;if(t&&((null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.type)=="MaxResendAttemptsReachedOTPError"||(null==e?void 0:null===(i=e.errors)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.type)=="MaxVerificationAttemptsReachedOTPError")){M(null==e?void 0:null===(s=e.errors)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.message),S(!1);return}t&&(k(null==e?void 0:null===(d=e.errors)||void 0===d?void 0:null===(o=d[0])||void 0===o?void 0:o.message),S(!1))}else k(""),E(!0)},{mutate:z,isPending:U}=(0,v.D)({...(0,g.sB)().triggerOTP,onSettled(e){V(e)}}),{mutate:L,isPending:F}=(0,v.D)({...(0,g.sB)().triggerEmailOTP,onSettled(e){V(e)}}),Y=e=>u.HN.test(e)?(C("email"),null):u.n_.test(e)?(C("phone"),null):(C(null),"Invalid email or phone number format"),G=()=>{_&&"phone"===P&&z(JSON.stringify({mobile:y,type:"SIGNIN_WITH_MOBILE"})),_&&"email"===P&&L(JSON.stringify({login:y,type:"SIGNIN_WITH_MOBILE"}))},q=()=>{A(!0),O(!1),(0,p.Zh)()};return(0,n.jsxs)(n.Fragment,{children:[(U||F)&&(0,n.jsx)(f.default,{}),!I&&!D&&T&&(0,n.jsxs)(n.Fragment,{children:[B&&(0,n.jsx)(o.x,{className:"md:mt-12",children:(0,n.jsx)(s.Z,{variant:"xs",className:"left-0 top-3 bg-red-700 p-4 text-start text-white",children:B})}),(0,n.jsxs)(o.x,{className:"px-4 pt-6 md:px-[99px] md:pt-[96px]",children:[(0,n.jsx)(s.Z,{className:"text-center text-3xl font-medium text-blackShade sm:!leading-[21.6px] md:leading-[38.4px] lg:text-[32px] xs:text-lg",children:"Sign in to Shoppers Stop"}),(0,n.jsx)(s.Z,{className:"pb-8 pt-2 text-center text-xs font-light tracking-wide text-ssBlack sm:!leading-[18px] md:pb-10 md:pt-3 md:text-base md:leading-normal ",children:"Enter your email ID or phone number to sign in"}),(0,n.jsx)("div",{className:" md:mb-6",children:(0,n.jsx)(r.Input,{className:"w-full  text-base tracking-sm",label:"Enter your phone or email ID",value:y,labelClass:"text-base font-normal text-neutral-500 !leading-6",onChange:e=>{j(e.target.value);let t=Y(e.target.value);S(!t),k(e.target.value&&t||""),M("")},errorMessage:w,onKeyDown:e=>{(null==e?void 0:e.key)==="Enter"&&G()}})}),(0,n.jsx)(i.Button,{className:"mt-4 w-full py-5 md:mt-0 md:py-7",title:"PROCEED",textClass:"md:text-base",onClick:G,disabled:!_||""===y.trim()}),(0,n.jsx)(o.x,{className:"flex items-center py-10 xs:py-6",children:(0,n.jsx)(x.X,{})}),(0,n.jsx)(o.x,{className:"mb-14 flex cursor-pointer justify-center gap-5 xs:mb-10",children:(0,n.jsx)(x.U,{setShowRegisterWithUs:A,setSocialProfileData:Z,closeSheet:l,setErrorMessage:k})}),(0,n.jsxs)(o.x,{className:"mb-2 mt-10 flex justify-center md:mb-8",children:[(0,n.jsx)(s.Z,{className:"text-xs font-medium  leading-[18px]  text-ssBlack md:text-[18px] md:leading-[27px]",children:"Don’t have an account?"}),(0,n.jsx)(s.Z,{as:"span",onClick:()=>q(),className:"cursor-pointer pl-2  font-medium leading-[18px] text-blue-600 md:text-[18px] md:!leading-[27px] md:opacity-100",variant:"xs",children:"Sign up"})]})]})]}),!t&&(0,n.jsxs)(o.x,{className:"absolute bottom-8 flex w-full items-center justify-center",onClick:()=>{(0,b.RB)(h.YS),l()},children:[(0,n.jsx)(N.E,{width:20,height:20,src:"/icons/help_message.svg",alt:"messageIcon"}),(0,n.jsx)(s.Z,{className:"cursor-pointer pl-[6px] text-xs font-medium capitalize leading-none text-blue-600 md:text-sm md:leading-4 ",children:"Help"})]}),D&&(0,n.jsx)(c.Z,{onSignInClick:()=>{A(!1),O(!0)},closeSheet:l,profileData:R}),I&&(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{phoneNumber:y,closeSheet:l,showBackArrow:!0,onBackArrowClick:()=>{k(""),O(!0),E(!1),S(!0)},payloadType:null!=P?P:""})})]})}},66839:function(e,t,l){var n=l(85893),a=l(67294),i=l(83464),r=l(444),s=l(5686),o=l(8725),d=l(29515),u=l(25886),c=l(98029),m=l(45051),x=l(683),v=l(3816),g=l(45779),p=l(1636),f=l(26729),h=l(54279),b=l(69653);t.Z=e=>{let{onSignInClick:t,closeSheet:l,profileData:N}=e||{},{isMobile:y}=(0,h.a)(),[j,_]=(0,a.useState)(),[S,w]=(0,a.useState)({name:"",phoneNumber:""}),[k,P]=(0,a.useState)({name:"",phoneNumber:""}),[C,I]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!1),[A,T]=(0,a.useState)("");(0,a.useEffect)(()=>{let{given_name:e,family_name:t}=N||j||{};w(l=>({...l,name:e||t?"".concat(null!=e?e:"").concat(t?" ".concat(t):""):""})),(N||j)&&P(l=>({...l,name:e&&t?"":"Please enter full name"}))},[N,j]);let{mutate:O,isPending:R}=(0,c.D)({...(0,m.sB)().triggerOTP,onSettled(e){var t,l,n,a,i;let{type:r}=(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t[0])||{};(null==e?void 0:e.statusCode)==201?I(!0):(null==e?void 0:e.errors)&&("MaxResendAttemptsReachedOTPError"==r||"MaxVerificationAttemptsReachedOTPError"==r)?T(null==e?void 0:null===(i=e.errors)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.message):((null==e?void 0:e.errors)||(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message))&&P(t=>{var l,n;return{...t,phoneNumber:null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message}})}}),{mutate:Z,isPending:B}=(0,c.D)({...(0,m.sB)().registerWithSocialLogin,onSettled(e){var t,l,n,a,i,r,s;let{type:o}=(null==e?void 0:null===(t=e.errors)||void 0===t?void 0:t[0])||{};(null==e?void 0:e.errors)&&("MaxResendAttemptsReachedOTPError"==o||"MaxVerificationAttemptsReachedOTPError"==o)&&T(null==e?void 0:null===(s=e.errors)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.message),(null==e?void 0:e.errors)&&(null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.type)=="MobileNotUniqueError"&&P(t=>{var l,n;return{...t,phoneNumber:null==e?void 0:null===(n=e.errors)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.message}}),(null==e?void 0:null===(i=e.errors)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.type)=="OTPVerificationRequiredError"&&I(!0)}}),M=(e,t)=>{if(0==t.length){w(t=>({...t,[e]:""}));return}"name"==e?d.N1.test(t)&&t.length>0&&w(l=>({...l,[e]:t})):"phoneNumber"==e&&(T(""),d.LA.test(t)&&parseInt(t.charAt(0))>5&&w(l=>({...l,[e]:t}))),V(e,t)},V=(e,t)=>{let l="";if(t.length<=0){P(t=>({...t,[e]:""}));return}switch(e){case"name":{let e=t.split(/(\s+)/).filter(function(e){return e.trim().length>0});l=d.N1.test(t)?e.length>1?"":"Please enter first and last name":x.errorMessages.onlyAlphabets;break}case"phoneNumber":l=t.length<10?"Invalid phone number format":""}P(t=>({...t,[e]:l}))},z=(()=>{let{phoneNumber:e,name:t}=S,{phoneNumber:l,name:n}=k;return!!e&&!!t&&!l&&!n&&!A})();return(0,n.jsxs)(n.Fragment,{children:[(R||B)&&(0,n.jsx)(g.default,{}),A&&(0,n.jsx)(o.x,{className:"left-0 bg-red-700 px-4 py-2 md:mt-12 md:px-8",children:(0,n.jsx)(s.Z,{variant:"xs",className:"text-start text-white xl:text-base",children:A})}),E?(0,n.jsx)(b.Z,{closeSheet:l}):C?(0,n.jsx)(v.Z,{phoneNumber:S.phoneNumber,closeSheet:l,showBackArrow:!0,onBackArrowClick:()=>{I(!1)},userName:S.name,profileData:N||j,payloadType:N||j?"social-login":"SIGNIN_WITH_MOBILE"}):(0,n.jsxs)(o.x,{className:"mx-4 mt-6 md:mx-[99px] md:mt-24",children:[(0,n.jsx)(s.Z,{className:"text-center text-[32px] font-medium  leading-[38.4px] text-blackShade xs:text-lg",children:"Register with us"}),(0,n.jsx)(s.Z,{className:"mb-8 text-center text-sm font-light leading-normal tracking-wide text-ssBlack md:mb-0 md:mt-3 md:text-base",children:"Enter your phone number to register"}),(0,n.jsx)(r.Input,{label:"Name",value:S.name,labelClass:"text-neutral-500 md:text-base",onChange:e=>M("name",e.target.value),className:"".concat(k.name?"mb-2":"mb-4"," w-full md:mt-6"),errorClass:"mb-3 ",errorMessage:k.name}),(0,n.jsx)(r.Input,{label:"Phone Number",maxLength:10,labelClass:"text-neutral-500 md:text-base",value:S.phoneNumber,onChange:e=>M("phoneNumber",e.target.value),className:"w-full ",errorMessage:k.phoneNumber}),(0,n.jsx)(o.x,{className:"mb-8 mt-6 flex flex-row md:mb-6",children:(0,n.jsxs)(s.Z,{className:"text-xs font-normal  !leading-[21px] text-primaryBlack60 md:text-sm",children:["By clicking on Register Now, I agree with the"," ",(0,n.jsx)("span",{className:"cursor-pointer font-normal text-termsAndConditions underline",onClick:()=>{(0,f.RB)(p._)},children:"Terms of Use"})," ","and"," ",(0,n.jsx)("span",{className:"cursor-pointer font-normal text-termsAndConditions underline",onClick:()=>{(0,f.RB)(p.B)},children:"Privacy Policy"})]})}),(0,n.jsx)(i.zx,{title:"Register Now",textClass:"md:text-base ",className:"w-full md:py-7",disabled:!z,onClick:()=>{if(S.name&&S.phoneNumber){var e;let t={mobile:S.phoneNumber,type:"SIGNIN_WITH_MOBILE"},{email:l,token:n}=N||j||{},a=S.name.split(" "),i=null==a?void 0:a[0],r=null==a?void 0:null===(e=a.slice(1,null==a?void 0:a.length))||void 0===e?void 0:e.join(" "),s=decodeURI("accessToken=".concat(n,"&socialIDP=google&cliend_id=mobile_android&firstName=").concat(i,"&lastName=").concat(r,"&email=").concat(l,"&mobile=").concat(S.phoneNumber,"&otp="));n&&l?Z(s):O(JSON.stringify(t))}}}),(0,n.jsx)(o.x,{className:"my-6 flex items-center md:my-10",children:(0,n.jsx)(u.X,{})}),(0,n.jsx)(o.x,{className:"mb-10 flex justify-center gap-5 md:mb-14",children:(0,n.jsx)(u.U,{setSocialProfileData:_})}),(0,n.jsxs)(o.x,{className:"mb-2 flex justify-center",children:[(0,n.jsx)(s.Z,{className:"text-lg font-medium leading-relaxed text-stone-800 xs:text-xs",children:"Already have an account?"}),(0,n.jsx)(s.Z,{onClick:()=>y?D(!0):t&&t(),className:"cursor-pointer pl-2 text-lg font-medium leading-relaxed text-blue-600 xs:text-xs ",children:"Sign in"})]})]})]})}},45779:function(e,t,l){l.r(t);var n=l(85893),a=l(37622);t.default=()=>(0,n.jsx)(a.Vq,{open:!0,children:(0,n.jsx)(a.cZ,{children:(0,n.jsx)("div",{className:"pointer-events-none fixed left-0 top-0 z-[9999] flex size-full shrink-0 items-center justify-center bg-neutral-900/90",children:(0,n.jsxs)("div",{className:"loader",children:[(0,n.jsx)("div",{className:"circle"}),(0,n.jsx)("div",{className:"circle"}),(0,n.jsx)("div",{className:"circle"}),(0,n.jsx)("div",{className:"circle"}),(0,n.jsx)("div",{className:"circle"})]})})})})},37622:function(e,t,l){l.d(t,{GG:function(){return u},Vq:function(){return o},cZ:function(){return m}});var n=l(85893),a=l(67294),i=l(12854),r=l(42376),s=l(83696);let o=i.fC;i.xz;let d=i.h_,u=i.x8,c=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)(i.aV,{ref:t,className:(0,r.cn)("fixed inset-0 z-[102] bg-neutral-900/90  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...a})});c.displayName=i.aV.displayName;let m=a.forwardRef((e,t)=>{let{className:l,children:a,crossIcon:o=!1,crossIconStyles:u="",...m}=e;return(0,n.jsxs)(d,{children:[(0,n.jsx)(c,{}),(0,n.jsxs)(i.VY,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-[102] grid translate-x-[-50%] translate-y-[-50%] gap-4 outline-none duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...m,children:[a,o&&(0,n.jsx)(i.x8,{className:(0,r.cn)("absolute right-6 top-6 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none  disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",u),children:(0,n.jsx)(s.J,{name:"close",size:32,alt:"close"})})]})]})});m.displayName=i.VY.displayName,a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)(i.Dx,{ref:t,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",l),...a})}).displayName=i.Dx.displayName,a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,n.jsx)(i.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",l),...a})}).displayName=i.dk.displayName},4198:function(e,t,l){l.d(t,{Jc:function(){return o},Mn:function(){return r},Zh:function(){return i},cC:function(){return s},dJ:function(){return d}});var n=l(16220),a=l(92504);let i=()=>{var e,t,n,i,r,s,o;(0,a.Z)("signup_initiate",{medium:"mobile",event_type:"signup_initiate",jounery_type:"signup",cta_name:"Sign up",link_url:(null===(o=l.g)||void 0===o?void 0:null===(s=o.window)||void 0===s?void 0:null===(r=s.location)||void 0===r?void 0:null===(i=r.href)||void 0===i?void 0:i.replace(null===(n=l.g)||void 0===n?void 0:null===(t=n.window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.origin,""))||"na",status:"valid"})},r=e=>{var t,i,r,s,o,d,u,c;let{email:m,fccPoints:x,fccStatus:v,gender:g,mobileNumber:p,name:f,tierValue:h,fccNumber:b,walletStatus:N,walletNumber:y,fccValidity:j,uniqueId:_,walletAmount:S}=e||{},w=null==f?void 0:f.split(/(\s+)/).filter(function(e){return e.trim().length>0}),k=null==w?void 0:w[0],P=null==w?void 0:null===(t=w.slice(1,null==w?void 0:w.length))||void 0===t?void 0:t.join(" "),C=j&&(0,n.Z)(j);(0,a.Z)("signup_complete",{user_phone_number:"+91".concat(p)||0,event_type:"signup_complete",gender:g||"na",user_birth_date:"na",user_first_name:k||"na",user_last_name:P||"na",fc_status:v||"na",loyalty_level:h||"na",fc_points:0==x?0:x&&+x||0,fc_card_number:b||"na",fc_card_validity:C||"na",wallet_status:N||"na",wallet_number:y||"na",user_mail_id:m||"na",medium:"mobile",fc_card_type:"non-member",wallet_amount:S?+S:0,cta_name:"SAVE",status:"valid",link_url:(null===(c=l.g)||void 0===c?void 0:null===(u=c.window)||void 0===u?void 0:null===(d=u.location)||void 0===d?void 0:null===(o=d.href)||void 0===o?void 0:o.replace(null===(s=l.g)||void 0===s?void 0:null===(r=s.window)||void 0===r?void 0:null===(i=r.location)||void 0===i?void 0:i.origin,""))||"na",userID:_||"na"})},s=(e,t)=>{var l,i;let r=null==e?void 0:null===(l=e.name)||void 0===l?void 0:l.split(/(\s+)/).filter(function(e){return e.trim().length>0}),s=null==r?void 0:r[0],o=null==r?void 0:null===(i=r.slice(1,null==r?void 0:r.length))||void 0===i?void 0:i.join(" "),d=(null==e?void 0:e.fccEndDate)&&(0,n.Z)(null==e?void 0:e.fccEndDate);(0,a.Z)("signin",{user_phone_number:"+91".concat(null==e?void 0:e.mobileNumber)||0,event_type:"signin",user_mail_id:(null==e?void 0:e.email)||"na",gender:(null==e?void 0:e.gender)||"na",user_birth_date:(null==e?void 0:e.dob)||"na",user_first_name:s||"na",user_last_name:o||"na",fc_status:(null==e?void 0:e.fccStatus)||"na",loyalty_level:(null==e?void 0:e.tierValue)||"na",fc_points:(null==e?void 0:e.fccPoints)==0?0:(null==e?void 0:e.fccPoints)&&+(null==e?void 0:e.fccPoints)||0,wallet_amount:(null==e?void 0:e.walletAmount)?+(null==e?void 0:e.walletAmount):0,fc_card_number:(null==e?void 0:e.fccNumber)||"na",fc_card_validity:d||"na",wallet_status:(null==e?void 0:e.walletStatus)||"na",wallet_number:(null==e?void 0:e.walletNumber)||"na",medium:("email"==t?"email":"social-login"==t?"gmail":"mobile")||"na",fc_card_type:(null==e?void 0:e.tierValue)?null==e?void 0:e.tierValue:"non-member",status:"valid"})},o=(e,t)=>{var l,i,r;let s=null==e?void 0:null===(l=e.name)||void 0===l?void 0:l.split(/(\s+)/).filter(function(e){return e.trim().length>0}),o=null==s?void 0:s[0],d=null==s?void 0:null===(i=s.slice(1,null==s?void 0:s.length))||void 0===i?void 0:i.join(" "),u=(null==e?void 0:e.fccEndDate)&&(0,n.Z)(null==e?void 0:e.fccEndDate);(0,a.Z)("user_login",{mobile:"+91".concat(null==e?void 0:e.mobileNumber)||0,email:(null==e?void 0:e.email)||"na",gender:(null==e?void 0:e.gender)||"na",dob:(null==e?void 0:e.dob)||"na",user_first_name:o||"na",user_last_name:d||"na",fc_status:(null==e?void 0:e.fccStatus)||"na",fc_card_type:(null==e?void 0:e.tierValue)?null==e?void 0:e.tierValue:"non-member",fc_points:(null==e?void 0:e.fccPoints)?Number(null==e?void 0:e.fccPoints):0,fc_ard_number:Number(null==e?void 0:e.fccNumber)||"na",validity:u||"na",wallet_status:null==e?void 0:e.walletStatus,wallet_number:(null==e?void 0:e.walletNumber)?Number(null==e?void 0:e.walletNumber):"na",wallet_amount:(null==e?void 0:e.walletAmount)?Number(null==e?void 0:e.walletAmount):0,medium:("email"==t?"email":"social-login"==t?"gmail":"mobile")||"na",loyalty_level:null!==(r=null==e?void 0:e.tierValue)&&void 0!==r?r:"na",user_phone_number:"+91".concat(null==e?void 0:e.mobileNumber)||0})},d=()=>{(0,a.Z)("user_logout",{event_type:"user_logout",cta_name:"YES,LOG OUT"})}}}]);