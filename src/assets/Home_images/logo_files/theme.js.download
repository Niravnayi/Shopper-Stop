(function () {
  let dclhandler = false;
  if (document.readyState !== 'loading') {
    init();
  } else {
    dclhandler = true;
    document.addEventListener('DOMContentLoaded', init);
  }
  function init() {
    if (dclhandler) {
      document.removeEventListener('DOMContentLoaded', init);
    }
    const theme = document.querySelector(':root').getAttribute('class');

    const paths = window.location.pathname.split('/');
    const finalPath = paths[paths.length - 1];

    if (finalPath !== 'luxe' && theme === 'dark') {
      localStorage.setItem('theme', 'light');
    }
  }
})();
